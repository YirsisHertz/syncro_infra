import e from"@fastify/cors";import r from"@fastify/env";import o from"fastify";import t from"mongoose";import{routes as n}from"./routes/index.js";var s=o({logger:!0});await s.register(e),await s.register(r,{dotenv:!0,schema:{type:"object",required:["PORT"],properties:{PORT:{type:"string",default:3e3}}}}),s.get("/healt",function(){return{message:"Ok"}}),n.forEach(function(e){return s.route(e)}),await s.listen({port:+(process.env.PORT||3e3)}),t.connect(process.env.DATABASE_URL||"",{user:process.env.DATABASE_USERNAME,pass:process.env.DATABASE_PASSWORD}).then(function(){return console.log("connected")}).catch(function(e){return console.log(e)});